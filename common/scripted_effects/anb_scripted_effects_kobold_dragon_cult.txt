unlock_kobold_dragon_cult_for_colour_slot_upgrade = {
	set_country_flag = unlocked_$COLOUR$_dragon_$SLOT$_$UPGRADE$

	tooltip = { 
		add_country_modifier = {
			name = $COLOUR$_dragon_$SLOT$_$UPGRADE$
			desc = UNLOCKED_DRAGON_CULT_TOOLTIP
			duration = -1
		}
	}
	add_church_aspect = $COLOUR$_dragon_$SLOT$_$UPGRADE$
}

upgrade_kobold_hoard = {
	hidden_effect = {
		remove_province_modifier = kobold_hoard_1
		remove_province_modifier = kobold_hoard_2
		remove_province_modifier = kobold_hoard_3
		remove_province_modifier = kobold_hoard_4
		remove_province_modifier = kobold_hoard_5
		remove_province_modifier = kobold_hoard_6
		remove_province_modifier = kobold_hoard_7
		remove_province_modifier = kobold_hoard_8
		remove_province_modifier = kobold_hoard_9
		remove_province_modifier = kobold_hoard_10
		remove_province_modifier = kobold_hoard_11
		if = {
			limit = { REB = { check_variable = { dragon_cult_hoard = 256000 } } }
			add_permanent_province_modifier = {
				name = kobold_hoard_11
				duration = -1
			}
		}
		else_if = {
			limit = { REB = { check_variable = { dragon_cult_hoard = 128000 } } }
			add_permanent_province_modifier = {
				name = kobold_hoard_10
				duration = -1
			}
		}
		else_if = {
			limit = { REB = { check_variable = { dragon_cult_hoard = 64000 } } }
			add_permanent_province_modifier = {
				name = kobold_hoard_9
				duration = -1
			}
		}
		else_if = {
			limit = { REB = { check_variable = { dragon_cult_hoard = 32000 } } }
			add_permanent_province_modifier = {
				name = kobold_hoard_8
				duration = -1
			}
		}
		else_if = {
			limit = { REB = { check_variable = { dragon_cult_hoard = 16000 } } }
			add_permanent_province_modifier = {
				name = kobold_hoard_7
				duration = -1
			}
		}
		else_if = {
			limit = { REB = { check_variable = { dragon_cult_hoard = 8000 } } }
			add_permanent_province_modifier = {
				name = kobold_hoard_6
				duration = -1
			}
		}
		else_if = {
			limit = { REB = { check_variable = { dragon_cult_hoard = 4000 } } }
			add_permanent_province_modifier = {
				name = kobold_hoard_5
				duration = -1
			}
		}
		else_if = {
			limit = { REB = { check_variable = { dragon_cult_hoard = 2000 } } }
			add_permanent_province_modifier = {
				name = kobold_hoard_4
				duration = -1
			}
		}
		else_if = {
			limit = { REB = { check_variable = { dragon_cult_hoard = 1000 } } }
			add_permanent_province_modifier = {
				name = kobold_hoard_3
				duration = -1
			}
		}
		else_if = {
			limit = { REB = { check_variable = { dragon_cult_hoard = 500 } } }
			add_permanent_province_modifier = {
				name = kobold_hoard_2
				duration = -1
			}
		}
		else_if = {
			limit = { REB = { check_variable = { dragon_cult_hoard = 1 } } }
			add_permanent_province_modifier = {
				name = kobold_hoard_1
				duration = -1
			}
		}
		else_if = {
			limit = { REB = { check_variable = { dragon_cult_hoard = 0 } } }
			add_permanent_province_modifier = {
				name = kobold_hoard_0
				duration = -1
			}
		}
	}
}